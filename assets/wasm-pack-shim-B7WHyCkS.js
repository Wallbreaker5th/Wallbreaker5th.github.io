let _;const S=new Array(128).fill(void 0);S.push(void 0,null,!0,!1);function i(n){return S[n]}let M=S.length;function V(n){n<132||(S[n]=M,M=n)}function l(n){const t=i(n);return V(n),t}const N=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&N.decode();let O=null;function R(){return(O===null||O.byteLength===0)&&(O=new Uint8Array(_.memory.buffer)),O}function f(n,t){return n=n>>>0,N.decode(R().subarray(n,n+t))}function w(n){M===S.length&&S.push(S.length+1);const t=M;if(M=S[t],typeof M!="number")throw new Error("corrupt heap");return S[t]=n,t}function E(n){if(typeof n!="boolean")throw new Error("expected a boolean argument")}function I(n){const t=typeof n;if(t=="number"||t=="boolean"||n==null)return`${n}`;if(t=="string")return`"${n}"`;if(t=="symbol"){const o=n.description;return o==null?"Symbol":`Symbol(${o})`}if(t=="function"){const o=n.name;return typeof o=="string"&&o.length>0?`Function(${o})`:"Function"}if(Array.isArray(n)){const o=n.length;let c="[";o>0&&(c+=I(n[0]));for(let u=1;u<o;u++)c+=", "+I(n[u]);return c+="]",c}const e=/\[object ([^\]]+)\]/.exec(toString.call(n));let r;if(e.length>1)r=e[1];else return toString.call(n);if(r=="Object")try{return"Object("+JSON.stringify(n)+")"}catch{return"Object"}return n instanceof Error?`${n.name}: ${n.message}
${n.stack}`:r}let v=0;const L=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},z=typeof L.encodeInto=="function"?function(n,t){return L.encodeInto(n,t)}:function(n,t){const e=L.encode(n);return t.set(e),{read:n.length,written:e.length}};function k(n,t,e){if(typeof n!="string")throw new Error("expected a string argument");if(e===void 0){const b=L.encode(n),d=t(b.length,1)>>>0;return R().subarray(d,d+b.length).set(b),v=b.length,d}let r=n.length,o=t(r,1)>>>0;const c=R();let u=0;for(;u<r;u++){const b=n.charCodeAt(u);if(b>127)break;c[o+u]=b}if(u!==r){u!==0&&(n=n.slice(u)),o=e(o,r,r=u+n.length*3,1)>>>0;const b=R().subarray(o+u,o+r),d=z(n,b);if(d.read!==n.length)throw new Error("failed to pass whole string");u+=d.written}return v=u,o}let C=null;function g(){return(C===null||C.byteLength===0)&&(C=new Int32Array(_.memory.buffer)),C}function y(n){return n==null}function B(n,t,e,r){const o={a:n,b:t,cnt:1,dtor:e},c=(...u)=>{o.cnt++;try{return r(o.a,o.b,...u)}finally{--o.cnt===0&&(_.__wbindgen_export_2.get(o.dtor)(o.a,o.b),o.a=0)}};return c.original=o,c}function s(n,t){try{return n.apply(this,t)}catch(e){let r=function(){try{return e instanceof Error?`${e.message}

Stack:
${e.stack}`:e.toString()}catch{return"<failed to stringify thrown value>"}}();throw console.error("wasm-bindgen: imported JS function that was not marked as `catch` threw an error:",r),e}}function a(n){if(typeof n!="number")throw new Error("expected a number argument")}function K(n,t,e){a(n),a(t),_._dyn_core__ops__function__Fn__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h6982a0481caf3215(n,t,w(e))}function Q(n,t){a(n),a(t),_._dyn_core__ops__function__Fn_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hcfa3e067397441be(n,t)}function X(n,t,e,r){const o={a:n,b:t,cnt:1,dtor:e},c=(...u)=>{o.cnt++;const b=o.a;o.a=0;try{return r(b,o.b,...u)}finally{--o.cnt===0?_.__wbindgen_export_2.get(o.dtor)(b,o.b):o.a=b}};return c.original=o,c}function Y(n,t,e){a(n),a(t),_._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h1cd3eafc58545708(n,t,w(e))}function x(n,t){if(!(n instanceof t))throw new Error(`expected instance of ${t.name}`);return n.ptr}function at(){const n=_.renderer_build_info();return l(n)}function F(n,t){const e=t(n.length*1,1)>>>0;return R().set(n,e/1),v=n.length,e}let W=null;function q(){return(W===null||W.byteLength===0)&&(W=new Float32Array(_.memory.buffer)),W}let j=null;function Z(){return(j===null||j.byteLength===0)&&(j=new Uint32Array(_.memory.buffer)),j}function tt(n,t){const e=t(n.length*4,4)>>>0;return Z().set(n,e/4),v=n.length,e}function p(n,t){try{return n.apply(this,t)}catch(e){_.__wbindgen_exn_store(w(e))}}function et(n,t,e,r){a(n),a(t),_.wasm_bindgen__convert__closures__invoke2_mut__hac6a2ecd3bc29c03(n,t,w(e),w(r))}class nt{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_createsessionoptions_free(t)}constructor(){const t=_.createsessionoptions_new();return this.__wbg_ptr=t>>>0,this}set format(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr);const e=k(t,_.__wbindgen_malloc,_.__wbindgen_realloc),r=v;_.createsessionoptions_set_format(this.__wbg_ptr,e,r)}set artifact_content(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr);const e=F(t,_.__wbindgen_malloc),r=v;_.createsessionoptions_set_artifact_content(this.__wbg_ptr,e,r)}}class D{constructor(){throw new Error("cannot invoke `new` directly")}static __wrap(t){t=t>>>0;const e=Object.create(D.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_incrdomdocclient_free(t)}bind_functions(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr),_.incrdomdocclient_bind_functions(this.__wbg_ptr,w(t))}relayout(t,e,r,o){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr);const c=_.incrdomdocclient_relayout(this.__wbg_ptr,t,e,r,o);return l(c)}need_repaint(t,e,r,o,c,u){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const m=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr),a(t),a(u),_.incrdomdocclient_need_repaint(m,this.__wbg_ptr,t,e,r,o,c,u);var b=g()[m/4+0],d=g()[m/4+1],h=g()[m/4+2];if(h)throw l(d);return b!==0}finally{_.__wbindgen_add_to_stack_pointer(16)}}repaint(t,e,r,o,c,u){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const m=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr),a(t),a(u),_.incrdomdocclient_repaint(m,this.__wbg_ptr,t,e,r,o,c,u);var b=g()[m/4+0],d=g()[m/4+1],h=g()[m/4+2];if(h)throw l(d);return l(b)}finally{_.__wbindgen_add_to_stack_pointer(16)}}}class U{constructor(){throw new Error("cannot invoke `new` directly")}static __wrap(t){t=t>>>0;const e=Object.create(U.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_pageinfo_free(t)}get page_off(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return a(this.__wbg_ptr),_.pageinfo_page_off(this.__wbg_ptr)>>>0}get width_pt(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return a(this.__wbg_ptr),_.pageinfo_width_pt(this.__wbg_ptr)}get height_pt(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return a(this.__wbg_ptr),_.pageinfo_height_pt(this.__wbg_ptr)}}class H{constructor(){throw new Error("cannot invoke `new` directly")}static __wrap(t){t=t>>>0;const e=Object.create(H.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_pagesinfo_free(t)}get page_count(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return a(this.__wbg_ptr),_.pagesinfo_page_count(this.__wbg_ptr)>>>0}page_by_number(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr),a(t);const e=_.pagesinfo_page_by_number(this.__wbg_ptr,t);return e===0?void 0:U.__wrap(e)}page(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr),a(t);const e=_.pagesinfo_page(this.__wbg_ptr,t);return U.__wrap(e)}width(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return a(this.__wbg_ptr),_.pagesinfo_width(this.__wbg_ptr)}height(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return a(this.__wbg_ptr),_.pagesinfo_height(this.__wbg_ptr)}}class rt{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_renderpageimageoptions_free(t)}constructor(){const t=_.renderpageimageoptions_new();return this.__wbg_ptr=t>>>0,this}get page_off(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const r=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr),_.renderpageimageoptions_page_off(r,this.__wbg_ptr);var t=g()[r/4+0],e=g()[r/4+1];return t===0?void 0:e>>>0}finally{_.__wbindgen_add_to_stack_pointer(16)}}set page_off(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr),y(t)||a(t),_.renderpageimageoptions_set_page_off(this.__wbg_ptr,!y(t),y(t)?0:t)}get cache_key(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const r=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr),_.renderpageimageoptions_cache_key(r,this.__wbg_ptr);var t=g()[r/4+0],e=g()[r/4+1];let o;return t!==0&&(o=f(t,e).slice(),_.__wbindgen_free(t,e*1,1)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}set cache_key(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr);var e=y(t)?0:k(t,_.__wbindgen_malloc,_.__wbindgen_realloc),r=v;_.renderpageimageoptions_set_cache_key(this.__wbg_ptr,e,r)}get data_selection(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const r=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr),_.renderpageimageoptions_data_selection(r,this.__wbg_ptr);var t=g()[r/4+0],e=g()[r/4+1];return t===0?void 0:e>>>0}finally{_.__wbindgen_add_to_stack_pointer(16)}}set data_selection(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr),y(t)||a(t),_.renderpageimageoptions_set_data_selection(this.__wbg_ptr,!y(t),y(t)?0:t)}}class A{constructor(){throw new Error("cannot invoke `new` directly")}static __wrap(t){t=t>>>0;const e=Object.create(A.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_rendersession_free(t)}get pixel_per_pt(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const r=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr),_.rendersession_pixel_per_pt(r,this.__wbg_ptr);var t=g()[r/4+0],e=q()[r/4+1];return t===0?void 0:e}finally{_.__wbindgen_add_to_stack_pointer(16)}}set pixel_per_pt(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr),_.rendersession_set_pixel_per_pt(this.__wbg_ptr,t)}get background_color(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const r=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr),_.rendersession_background_color(r,this.__wbg_ptr);var t=g()[r/4+0],e=g()[r/4+1];let o;return t!==0&&(o=f(t,e).slice(),_.__wbindgen_free(t,e*1,1)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}set background_color(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr);const e=k(t,_.__wbindgen_malloc,_.__wbindgen_realloc),r=v;_.rendersession_set_background_color(this.__wbg_ptr,e,r)}get pages_info(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr);const t=_.rendersession_pages_info(this.__wbg_ptr);return H.__wrap(t)}get doc_width(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return a(this.__wbg_ptr),_.rendersession_doc_width(this.__wbg_ptr)}get doc_height(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");return a(this.__wbg_ptr),_.rendersession_doc_height(this.__wbg_ptr)}source_span(t){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const u=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr);const b=tt(t,_.__wbindgen_malloc),d=v;_.rendersession_source_span(u,this.__wbg_ptr,b,d);var e=g()[u/4+0],r=g()[u/4+1],o=g()[u/4+2],c=g()[u/4+3];if(c)throw l(o);let h;return e!==0&&(h=f(e,r).slice(),_.__wbindgen_free(e,r*1,1)),h}finally{_.__wbindgen_add_to_stack_pointer(16)}}render_in_window(t,e,r,o){let c,u;try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const h=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr),_.rendersession_render_in_window(h,this.__wbg_ptr,t,e,r,o);var b=g()[h/4+0],d=g()[h/4+1];return c=b,u=d,f(b,d)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(c,u,1)}}}class ut{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_rendersessionoptions_free(t)}constructor(){const t=_.rendersessionoptions_new();return this.__wbg_ptr=t>>>0,this}get pixel_per_pt(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const r=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr),_.rendersession_pixel_per_pt(r,this.__wbg_ptr);var t=g()[r/4+0],e=q()[r/4+1];return t===0?void 0:e}finally{_.__wbindgen_add_to_stack_pointer(16)}}set pixel_per_pt(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr),_.rendersession_set_pixel_per_pt(this.__wbg_ptr,t)}get background_color(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const r=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr),_.rendersessionoptions_background_color(r,this.__wbg_ptr);var t=g()[r/4+0],e=g()[r/4+1];let o;return t!==0&&(o=f(t,e).slice(),_.__wbindgen_free(t,e*1,1)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}set background_color(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr);const e=k(t,_.__wbindgen_malloc,_.__wbindgen_realloc),r=v;_.rendersessionoptions_set_background_color(this.__wbg_ptr,e,r)}get format(){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const r=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr),_.rendersessionoptions_format(r,this.__wbg_ptr);var t=g()[r/4+0],e=g()[r/4+1];let o;return t!==0&&(o=f(t,e).slice(),_.__wbindgen_free(t,e*1,1)),o}finally{_.__wbindgen_add_to_stack_pointer(16)}}set format(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr);const e=k(t,_.__wbindgen_malloc,_.__wbindgen_realloc),r=v;_.rendersessionoptions_set_format(this.__wbg_ptr,e,r)}}class ${static __wrap(t){t=t>>>0;const e=Object.create($.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_typstrenderer_free(t)}load_glyph_pack(t){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const o=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr),_.typstrenderer_load_glyph_pack(o,this.__wbg_ptr,w(t));var e=g()[o/4+0],r=g()[o/4+1];if(r)throw l(e)}finally{_.__wbindgen_add_to_stack_pointer(16)}}render_page_to_canvas(t,e,r){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");if(a(this.__wbg_ptr),x(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");let o=0;if(!y(r)){if(x(r,rt),r.__wbg_ptr===0)throw new Error("Attempt to use a moved value");o=r.__destroy_into_raw()}const c=_.typstrenderer_render_page_to_canvas(this.__wbg_ptr,t.__wbg_ptr,y(e)?0:w(e),o);return l(c)}constructor(){const t=_.typstrenderer_new();return this.__wbg_ptr=t>>>0,this}create_session(t){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const c=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr);let u=0;if(!y(t)){if(x(t,nt),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");u=t.__destroy_into_raw()}_.typstrenderer_create_session(c,this.__wbg_ptr,u);var e=g()[c/4+0],r=g()[c/4+1],o=g()[c/4+2];if(o)throw l(r);return A.__wrap(e)}finally{_.__wbindgen_add_to_stack_pointer(16)}}reset(t){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const o=_.__wbindgen_add_to_stack_pointer(-16);if(a(this.__wbg_ptr),x(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");_.typstrenderer_reset(o,this.__wbg_ptr,t.__wbg_ptr);var e=g()[o/4+0],r=g()[o/4+1];if(r)throw l(e)}finally{_.__wbindgen_add_to_stack_pointer(16)}}manipulate_data(t,e,r){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const u=_.__wbindgen_add_to_stack_pointer(-16);if(a(this.__wbg_ptr),x(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");const b=k(e,_.__wbindgen_malloc,_.__wbindgen_realloc),d=v,h=F(r,_.__wbindgen_malloc),m=v;_.typstrenderer_manipulate_data(u,this.__wbg_ptr,t.__wbg_ptr,b,d,h,m);var o=g()[u/4+0],c=g()[u/4+1];if(c)throw l(o)}finally{_.__wbindgen_add_to_stack_pointer(16)}}session_from_artifact(t,e){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const u=_.__wbindgen_add_to_stack_pointer(-16);a(this.__wbg_ptr);const b=F(t,_.__wbindgen_malloc),d=v,h=k(e,_.__wbindgen_malloc,_.__wbindgen_realloc),m=v;_.typstrenderer_session_from_artifact(u,this.__wbg_ptr,b,d,h,m);var r=g()[u/4+0],o=g()[u/4+1],c=g()[u/4+2];if(c)throw l(o);return A.__wrap(r)}finally{_.__wbindgen_add_to_stack_pointer(16)}}mount_dom(t,e){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");if(a(this.__wbg_ptr),x(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");const r=_.typstrenderer_mount_dom(this.__wbg_ptr,t.__wbg_ptr,w(e));return l(r)}render_svg_diff(t,e,r,o,c){let u,b;try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const m=_.__wbindgen_add_to_stack_pointer(-16);if(a(this.__wbg_ptr),x(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");_.typstrenderer_render_svg_diff(m,this.__wbg_ptr,t.__wbg_ptr,e,r,o,c);var d=g()[m/4+0],h=g()[m/4+1];return u=d,b=h,f(d,h)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(u,b,1)}}svg_data(t,e){let r,o;try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const T=_.__wbindgen_add_to_stack_pointer(-16);if(a(this.__wbg_ptr),x(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");y(e)||a(e),_.typstrenderer_svg_data(T,this.__wbg_ptr,t.__wbg_ptr,!y(e),y(e)?0:e);var c=g()[T/4+0],u=g()[T/4+1],b=g()[T/4+2],d=g()[T/4+3],h=c,m=u;if(d)throw h=0,m=0,l(b);return r=h,o=m,f(h,m)}finally{_.__wbindgen_add_to_stack_pointer(16),_.__wbindgen_free(r,o,1)}}get_customs(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");if(a(this.__wbg_ptr),x(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");const e=_.typstrenderer_get_customs(this.__wbg_ptr,t.__wbg_ptr);return l(e)}render_svg(t,e){try{if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const u=_.__wbindgen_add_to_stack_pointer(-16);if(a(this.__wbg_ptr),x(t,A),t.__wbg_ptr===0)throw new Error("Attempt to use a moved value");_.typstrenderer_render_svg(u,this.__wbg_ptr,t.__wbg_ptr,w(e));var r=g()[u/4+0],o=g()[u/4+1],c=g()[u/4+2];if(c)throw l(o);return r!==0}finally{_.__wbindgen_add_to_stack_pointer(16)}}}class wt{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();_.__wbg_typstrendererbuilder_free(t)}add_glyph_pack(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr);const e=_.typstrendererbuilder_add_glyph_pack(this.__wbg_ptr,w(t));return l(e)}constructor(){try{const o=_.__wbindgen_add_to_stack_pointer(-16);_.typstrendererbuilder_new(o);var t=g()[o/4+0],e=g()[o/4+1],r=g()[o/4+2];if(r)throw l(e);return this.__wbg_ptr=t>>>0,this}finally{_.__wbindgen_add_to_stack_pointer(16)}}build(){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");const t=this.__destroy_into_raw();a(t);const e=_.typstrendererbuilder_build(t);return l(e)}add_raw_font(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr);const e=_.typstrendererbuilder_add_raw_font(this.__wbg_ptr,w(t));return l(e)}add_web_fonts(t){if(this.__wbg_ptr==0)throw new Error("Attempt to use a moved value");a(this.__wbg_ptr);const e=_.typstrendererbuilder_add_web_fonts(this.__wbg_ptr,w(t));return l(e)}}async function _t(n,t){if(typeof Response=="function"&&n instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(n,t)}catch(r){if(n.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const e=await n.arrayBuffer();return await WebAssembly.instantiate(e,t)}else{const e=await WebAssembly.instantiate(n,t);return e instanceof WebAssembly.Instance?{instance:e,module:n}:e}}function P(){const n={};return n.wbg={},n.wbg.__wbg_new_87d841e70661f6e9=function(){return s(function(){const t=new Object;return w(t)},arguments)},n.wbg.__wbindgen_object_drop_ref=function(t){l(t)},n.wbg.__wbg_new_1d93771b84541aa5=function(){return s(function(t,e){try{var r={a:t,b:e},o=(u,b)=>{const d=r.a;r.a=0;try{return et(d,r.b,u,b)}finally{r.a=d}};const c=new Promise(o);return w(c)}finally{r.a=r.b=0}},arguments)},n.wbg.__wbg_call_f6a2bc58c19c53c6=function(){return p(function(t,e,r){const o=i(t).call(i(e),i(r));return w(o)},arguments)},n.wbg.__wbindgen_string_new=function(t,e){const r=f(t,e);return w(r)},n.wbg.__wbg_set_37a50e901587b477=function(){return p(function(t,e,r){const o=Reflect.set(i(t),i(e),i(r));return E(o),o},arguments)},n.wbg.__wbg_typstrenderer_new=function(){return s(function(t){const e=$.__wrap(t);return w(e)},arguments)},n.wbg.__wbindgen_object_clone_ref=function(t){const e=i(t);return w(e)},n.wbg.__wbg_incrdomdocclient_new=function(){return s(function(t){const e=D.__wrap(t);return w(e)},arguments)},n.wbg.__wbg_setTransform_995b0a0da185c6a6=function(){return p(function(t,e,r,o,c,u,b){i(t).setTransform(e,r,o,c,u,b)},arguments)},n.wbg.__wbg_setfillStyle_0284526726395e47=function(){return s(function(t,e){i(t).fillStyle=i(e)},arguments)},n.wbg.__wbg_fillRect_7f9e32d06a574988=function(){return s(function(t,e,r,o,c){i(t).fillRect(e,r,o,c)},arguments)},n.wbg.__wbindgen_number_new=function(t){return w(t)},n.wbg.__wbg_set_9182712abebf82ef=function(){return s(function(t,e,r){i(t)[l(e)]=l(r)},arguments)},n.wbg.__wbg_new_34c624469fb1d4fd=function(){return s(function(){const t=new Array;return w(t)},arguments)},n.wbg.__wbg_push_906164999551d793=function(){return s(function(t,e){const r=i(t).push(i(e));return a(r),r},arguments)},n.wbg.__wbindgen_is_function=function(t){const e=typeof i(t)=="function";return E(e),e},n.wbg.__wbindgen_debug_string=function(t,e){const r=I(i(e)),o=k(r,_.__wbindgen_malloc,_.__wbindgen_realloc),c=v;g()[t/4+1]=c,g()[t/4+0]=o},n.wbg.__wbg_clientWidth_63a18f3f1c0d50b9=function(){return s(function(t){const e=i(t).clientWidth;return a(e),e},arguments)},n.wbg.__wbg_getAttribute_14ccdc738c4f7d95=function(){return s(function(t,e,r,o){const c=i(e).getAttribute(f(r,o));var u=y(c)?0:k(c,_.__wbindgen_malloc,_.__wbindgen_realloc),b=v;g()[t/4+1]=b,g()[t/4+0]=u},arguments)},n.wbg.__wbg_setinnerHTML_99deeacfff0ae4cc=function(){return s(function(t,e,r){i(t).innerHTML=f(e,r)},arguments)},n.wbg.__wbg_instanceof_Window_99dc9805eaa2614b=function(){return s(function(t){let e;try{e=i(t)instanceof Window}catch{e=!1}const r=e;return E(r),r},arguments)},n.wbg.__wbg_get_5027b32da70f39b1=function(){return p(function(t,e){const r=Reflect.get(i(t),i(e));return w(r)},arguments)},n.wbg.__wbg_firstElementChild_1235cd5d4adf2e16=function(){return s(function(t){const e=i(t).firstElementChild;return y(e)?0:w(e)},arguments)},n.wbg.__wbg_setAttribute_0918ea45d5a1c663=function(){return p(function(t,e,r,o,c){i(t).setAttribute(f(e,r),f(o,c))},arguments)},n.wbg.__wbg_set_379b27f1d5f1bf9c=function(){return s(function(t,e,r){i(t)[e>>>0]=l(r)},arguments)},n.wbg.__wbg_remove_ed2f62f1a8be044b=function(){return s(function(t){i(t).remove()},arguments)},n.wbg.__wbindgen_memory=function(){const t=_.memory;return w(t)},n.wbg.__wbg_buffer_5d1b598a01b41a42=function(){return s(function(t){const e=i(t).buffer;return w(e)},arguments)},n.wbg.__wbg_newwithbyteoffsetandlength_d695c7957788f922=function(){return s(function(t,e,r){const o=new Uint8Array(i(t),e>>>0,r>>>0);return w(o)},arguments)},n.wbg.__wbg_new_ace717933ad7117f=function(){return s(function(t){const e=new Uint8Array(i(t));return w(e)},arguments)},n.wbg.__wbg_warn_0e0204547af47087=function(){return s(function(t){console.warn(i(t))},arguments)},n.wbg.__wbg_new_abda76e883ba8a5f=function(){return s(function(){const t=new Error;return w(t)},arguments)},n.wbg.__wbg_stack_658279fe44541cf6=function(){return s(function(t,e){const r=i(e).stack,o=k(r,_.__wbindgen_malloc,_.__wbindgen_realloc),c=v;g()[t/4+1]=c,g()[t/4+0]=o},arguments)},n.wbg.__wbg_error_f851667af71bcfc6=function(){return s(function(t,e){let r,o;try{r=t,o=e,console.error(f(t,e))}finally{_.__wbindgen_free(r,o,1)}},arguments)},n.wbg.__wbg_self_086b5302bcafb962=function(){return p(function(){const t=self.self;return w(t)},arguments)},n.wbg.__wbg_window_132fa5d7546f1de5=function(){return p(function(){const t=window.window;return w(t)},arguments)},n.wbg.__wbg_globalThis_e5f801a37ad7d07b=function(){return p(function(){const t=globalThis.globalThis;return w(t)},arguments)},n.wbg.__wbg_global_f9a61fce4af6b7c1=function(){return p(function(){const t=global.global;return w(t)},arguments)},n.wbg.__wbindgen_is_undefined=function(t){const e=i(t)===void 0;return E(e),e},n.wbg.__wbg_newnoargs_5859b6d41c6fe9f7=function(){return s(function(t,e){const r=new Function(f(t,e));return w(r)},arguments)},n.wbg.__wbg_call_a79f1973a4f07d5e=function(){return p(function(t,e){const r=i(t).call(i(e));return w(r)},arguments)},n.wbg.__wbg_new_3a66822ed076951c=function(){return s(function(t,e){const r=new Error(f(t,e));return w(r)},arguments)},n.wbg.__wbg_call_5830eb5e103aa772=function(){return p(function(t,e,r,o){const c=i(t).call(i(e),i(r),i(o));return w(c)},arguments)},n.wbg.__wbg_call_84a3935b24cb0625=function(){return p(function(t,e,r,o,c){const u=i(t).call(i(e),i(r),i(o),i(c));return w(u)},arguments)},n.wbg.__wbg_resolve_97ecd55ee839391b=function(){return s(function(t){const e=Promise.resolve(i(t));return w(e)},arguments)},n.wbg.__wbg_then_7aeb7c5f1536640f=function(){return s(function(t,e){const r=i(t).then(i(e));return w(r)},arguments)},n.wbg.__wbg_then_5842e4e97f7beace=function(){return s(function(t,e,r){const o=i(t).then(i(e),i(r));return w(o)},arguments)},n.wbg.__wbg_length_f0764416ba5bb237=function(){return s(function(t){const e=i(t).length;return a(e),e},arguments)},n.wbg.__wbg_set_74906aa30864df5a=function(){return s(function(t,e,r){i(t).set(i(e),r>>>0)},arguments)},n.wbg.__wbg_newwithlength_728575f3bba9959b=function(){return s(function(t){const e=new Uint8Array(t>>>0);return w(e)},arguments)},n.wbg.__wbg_stringify_daa6661e90c04140=function(){return p(function(t){const e=JSON.stringify(i(t));return w(e)},arguments)},n.wbg.__wbindgen_string_get=function(t,e){const r=i(e),o=typeof r=="string"?r:void 0;var c=y(o)?0:k(o,_.__wbindgen_malloc,_.__wbindgen_realloc),u=v;g()[t/4+1]=u,g()[t/4+0]=c},n.wbg.__wbindgen_cb_drop=function(t){const e=l(t).original;if(e.cnt--==1)return e.a=0,!0;const r=!1;return E(r),r},n.wbg.__wbg_restore_66f03665d18b1fc4=function(){return s(function(t){i(t).restore()},arguments)},n.wbg.__wbg_revokeObjectURL_912e89549777c09d=function(){return p(function(t,e){URL.revokeObjectURL(f(t,e))},arguments)},n.wbg.__wbg_log_9dfb3879776dd797=function(){return s(function(t){console.log(i(t))},arguments)},n.wbg.__wbg_instanceof_HtmlImageElement_0062f0e2d7a0cb87=function(){return s(function(t){let e;try{e=i(t)instanceof HTMLImageElement}catch{e=!1}const r=e;return E(r),r},arguments)},n.wbg.__wbg_save_2ea393c01ff5efb9=function(){return s(function(t){i(t).save()},arguments)},n.wbg.__wbg_newwithpathstring_904b59bbe82bb5bc=function(){return p(function(t,e){const r=new Path2D(f(t,e));return w(r)},arguments)},n.wbg.__wbg_clip_b54dc0353e70647d=function(){return s(function(t,e){i(t).clip(i(e))},arguments)},n.wbg.__wbg_newwithu8arraysequenceandoptions_d0ee7f095b8bf8eb=function(){return p(function(t,e){const r=new Blob(i(t),i(e));return w(r)},arguments)},n.wbg.__wbg_createObjectURL_0a02ce8c75afc373=function(){return p(function(t,e){const r=URL.createObjectURL(i(e)),o=k(r,_.__wbindgen_malloc,_.__wbindgen_realloc),c=v;g()[t/4+1]=c,g()[t/4+0]=o},arguments)},n.wbg.__wbg_setsrc_b07b4a7ed17b9066=function(){return s(function(t,e,r){i(t).src=f(e,r)},arguments)},n.wbg.__wbg_setonload_04e8f612ea2e226b=function(){return s(function(t,e){i(t).onload=i(e)},arguments)},n.wbg.__wbg_setonerror_b0eca42cfa82a1da=function(){return s(function(t,e){i(t).onerror=i(e)},arguments)},n.wbg.__wbg_drawImage_7c1321d754212efe=function(){return p(function(t,e,r,o,c,u){i(t).drawImage(i(e),r,o,c,u)},arguments)},n.wbg.__wbg_document_5257b70811e953c0=function(){return s(function(t){const e=i(t).document;return y(e)?0:w(e)},arguments)},n.wbg.__wbg_createElement_1a136faad4101f43=function(){return p(function(t,e,r){const o=i(t).createElement(f(e,r));return w(o)},arguments)},n.wbg.__wbg_setlineCap_e3213f84a27498d7=function(){return s(function(t,e,r){i(t).lineCap=f(e,r)},arguments)},n.wbg.__wbg_setlineJoin_fd12dcbf50e510fd=function(){return s(function(t,e,r){i(t).lineJoin=f(e,r)},arguments)},n.wbg.__wbg_setmiterLimit_7a7e9818a3448891=function(){return s(function(t,e){i(t).miterLimit=e},arguments)},n.wbg.__wbg_setlineDashOffset_eaaf0eb3ae400c38=function(){return s(function(t,e){i(t).lineDashOffset=e},arguments)},n.wbg.__wbg_setLineDash_9c1f837e0f27f20c=function(){return p(function(t,e){i(t).setLineDash(i(e))},arguments)},n.wbg.__wbg_setlineWidth_7d11c2d417a3d73d=function(){return s(function(t,e){i(t).lineWidth=e},arguments)},n.wbg.__wbg_fill_e518fdc6d8e7a73b=function(){return s(function(t,e){i(t).fill(i(e))},arguments)},n.wbg.__wbg_setstrokeStyle_7459000441c14f13=function(){return s(function(t,e){i(t).strokeStyle=i(e)},arguments)},n.wbg.__wbg_stroke_e99e3266be5e7083=function(){return s(function(t,e){i(t).stroke(i(e))},arguments)},n.wbg.__wbg_content_d5a7080f210bda5a=function(){return s(function(t){const e=i(t).content;return w(e)},arguments)},n.wbg.__wbg_firstElementChild_f281309bd542752f=function(){return s(function(t){const e=i(t).firstElementChild;return y(e)?0:w(e)},arguments)},n.wbg.__wbg_instanceof_HtmlCanvasElement_a6076360513b6876=function(){return s(function(t){let e;try{e=i(t)instanceof HTMLCanvasElement}catch{e=!1}const r=e;return E(r),r},arguments)},n.wbg.__wbg_nextElementSibling_68f14d8afd0c90c2=function(){return s(function(t){const e=i(t).nextElementSibling;return y(e)?0:w(e)},arguments)},n.wbg.__wbg_instanceof_SvgsvgElement_da9ea6a84752cc9c=function(){return s(function(t){let e;try{e=i(t)instanceof SVGSVGElement}catch{e=!1}const r=e;return E(r),r},arguments)},n.wbg.__wbg_instanceof_HtmlDivElement_e1a21eb4f18b1328=function(){return s(function(t){let e;try{e=i(t)instanceof HTMLDivElement}catch{e=!1}const r=e;return E(r),r},arguments)},n.wbg.__wbg_appendChild_bd383ec5356c0bdb=function(){return p(function(t,e){const r=i(t).appendChild(i(e));return w(r)},arguments)},n.wbg.__wbg_instanceof_HtmlElement_430cfa09315574cc=function(){return s(function(t){let e;try{e=i(t)instanceof HTMLElement}catch{e=!1}const r=e;return E(r),r},arguments)},n.wbg.__wbg_log_91b163d7ed112e53=function(){return s(function(t,e){console.log(i(t),i(e))},arguments)},n.wbg.__wbg_replaceWith_01b5237d9762c95a=function(){return p(function(t,e){i(t).replaceWith(i(e))},arguments)},n.wbg.__wbg_style_b32d5cb9a6bd4720=function(){return s(function(t){const e=i(t).style;return w(e)},arguments)},n.wbg.__wbg_setProperty_a763529f4ef8ac76=function(){return p(function(t,e,r,o,c){i(t).setProperty(f(e,r),f(o,c))},arguments)},n.wbg.__wbg_setwidth_05075fb6b4cc720e=function(){return s(function(t,e){i(t).width=e>>>0},arguments)},n.wbg.__wbg_setheight_7e0e88a922100d8c=function(){return s(function(t,e){i(t).height=e>>>0},arguments)},n.wbg.__wbg_cloneNode_80501c66ab115588=function(){return p(function(t){const e=i(t).cloneNode();return w(e)},arguments)},n.wbg.__wbg_instanceof_Element_f614cf57d4316979=function(){return s(function(t){let e;try{e=i(t)instanceof Element}catch{e=!1}const r=e;return E(r),r},arguments)},n.wbg.__wbg_instanceof_SvgGraphicsElement_40ced638a9e6ac80=function(){return s(function(t){let e;try{e=i(t)instanceof SVGGraphicsElement}catch{e=!1}const r=e;return E(r),r},arguments)},n.wbg.__wbg_lastElementChild_eb31811b2dc4be8e=function(){return s(function(t){const e=i(t).lastElementChild;return y(e)?0:w(e)},arguments)},n.wbg.__wbg_warn_3d1c8ba6d777c79b=function(){return s(function(t,e){console.warn(i(t),i(e))},arguments)},n.wbg.__wbg_getBBox_649bb9b319b20158=function(){return p(function(t){const e=i(t).getBBox();return w(e)},arguments)},n.wbg.__wbg_width_81edd239d1ca941d=function(){return s(function(t){return i(t).width},arguments)},n.wbg.__wbg_height_607d6cc72953a902=function(){return s(function(t){return i(t).height},arguments)},n.wbg.__wbg_x_b2f66bc4bcdac869=function(){return s(function(t){return i(t).x},arguments)},n.wbg.__wbg_y_cafeefe703040c34=function(){return s(function(t){return i(t).y},arguments)},n.wbg.__wbg_instanceof_HtmlTemplateElement_af7be35857925332=function(){return s(function(t){let e;try{e=i(t)instanceof HTMLTemplateElement}catch{e=!1}const r=e;return E(r),r},arguments)},n.wbg.__wbg_instanceof_CanvasRenderingContext2d_17760092d89f8894=function(){return s(function(t){let e;try{e=i(t)instanceof CanvasRenderingContext2D}catch{e=!1}const r=e;return E(r),r},arguments)},n.wbg.__wbg_getContext_39cdfeffd658feb7=function(){return p(function(t,e,r){const o=i(t).getContext(f(e,r));return y(o)?0:w(o)},arguments)},n.wbg.__wbg_setfont_618d296905d5784e=function(){return s(function(t,e,r){i(t).font=f(e,r)},arguments)},n.wbg.__wbg_measureText_30cf49ee9b64c74e=function(){return p(function(t,e,r){const o=i(t).measureText(f(e,r));return w(o)},arguments)},n.wbg.__wbg_width_f6dd6c6e29ab874d=function(){return s(function(t){return i(t).width},arguments)},n.wbg.__wbg_clearRect_28e49fdce6b0c2d5=function(){return s(function(t,e,r,o,c){i(t).clearRect(e,r,o,c)},arguments)},n.wbg.__wbindgen_throw=function(t,e){throw new Error(f(t,e))},n.wbg.__wbg_queueMicrotask_118eeb525d584d9a=function(){return s(function(t){queueMicrotask(i(t))},arguments)},n.wbg.__wbg_queueMicrotask_26a89c14c53809c0=function(){return s(function(t){const e=i(t).queueMicrotask;return w(e)},arguments)},n.wbg.__wbindgen_closure_wrapper1394=function(){return s(function(t,e,r){const o=B(t,e,328,K);return w(o)},arguments)},n.wbg.__wbindgen_closure_wrapper1395=function(){return s(function(t,e,r){const o=B(t,e,328,Q);return w(o)},arguments)},n.wbg.__wbindgen_closure_wrapper3395=function(){return s(function(t,e,r){const o=X(t,e,1768,Y);return w(o)},arguments)},n}function J(n,t){return _=n.exports,ot.__wbindgen_wasm_module=t,W=null,C=null,j=null,O=null,_}function gt(n){if(_!==void 0)return _;const t=P();n instanceof WebAssembly.Module||(n=new WebAssembly.Module(n));const e=new WebAssembly.Instance(n,t);return J(e,n)}async function ot(n){if(_!==void 0)return _;typeof n>"u"&&(n=G("typst_ts_renderer_bg.wasm",import.meta.url));const t=P();(typeof n=="string"||typeof Request=="function"&&n instanceof Request||typeof URL=="function"&&n instanceof URL)&&(n=fetch(n));const{instance:e,module:r}=await _t(await n,t);return J(e,r)}let G=async function(n,t){throw new Error("Cannot import wasm module without importer: "+n+" "+t)};function it(n){G=n}let st=async function(n,t){const e=new Function("m","return import(m)"),r=await e("path"),{readFileSync:o}=await e("fs"),c=new URL(r.join(r.dirname(t),n));return await o(c).buffer};const ct=typeof process<"u"&&process.versions!=null&&process.versions.node!=null;ct&&it(st);export{nt as CreateSessionOptions,D as IncrDomDocClient,U as PageInfo,H as PagesInfo,rt as RenderPageImageOptions,A as RenderSession,ut as RenderSessionOptions,$ as TypstRenderer,wt as TypstRendererBuilder,ot as default,gt as initSync,at as renderer_build_info,it as setImportWasmModule};
