import{_ as n,r as e,o as i,c as m,a,b as s,d as r,e as t}from"./app-CbDYtY6y.js";const c={},p=a("div",{class:"hint-container warning"},[a("p",{class:"hint-container-title"},"注意"),a("p",null,"题解写得可能非常抽象。"),a("p",null,"「如果一个题解你看不懂，那是题解垃圾而不是你垃圾。」")],-1),h={href:"https://codeforces.com/gym/102511",target:"_blank",rel:"noopener noreferrer"},o=a("h2",{id:"a-azulejos",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#a-azulejos"},[a("span",null,"A. Azulejos")])],-1),u=a("h3",{id:"题意",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#题意"},[a("span",null,"题意")])],-1),d=a("p",null,[s("有两排各 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n")]),a("annotation",{encoding:"application/x-tex"},"n")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.4306em"}}),a("span",{class:"mord mathnormal"},"n")])])]),s(" 个商品，各有价格和高度。分别排列前排、后排的商品，满足两行价格各自都单调不降，且对应位置的前排商品高度小于后排，或判断无解。"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mo",null,"≤"),a("mn",null,"5"),a("mo",null,"×"),a("mn",null,"1"),a("msup",null,[a("mn",null,"0"),a("mn",null,"5")])]),a("annotation",{encoding:"application/x-tex"},"n\\leq 5\\times 10^5")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.7719em","vertical-align":"-0.136em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},"≤"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.7278em","vertical-align":"-0.0833em"}}),a("span",{class:"mord"},"5"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),a("span",{class:"mbin"},"×"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8141em"}}),a("span",{class:"mord"},"1"),a("span",{class:"mord"},[a("span",{class:"mord"},"0"),a("span",{class:"msupsub"},[a("span",{class:"vlist-t"},[a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.8141em"}},[a("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{class:"pstrut",style:{height:"2.7em"}}),a("span",{class:"sizing reset-size6 size3 mtight"},[a("span",{class:"mord mtight"},"5")])])])])])])])])])]),s("。")],-1),g=t('<h3 id="题解" tabindex="-1"><a class="header-anchor" href="#题解"><span>题解</span></a></h3><p>先对前后两排排序，从左往右扫，每次会考虑上下各自一段相同价格的商品。取出数量较少的一段，不妨设其为前排，则将其按照高度从大到小排序，依次找到高度大于它最小的后排商品（把高的商品保留到后面）；最后会剩下后排的一段相同价格的商品，接下来再取新的一段的前排的相同价格的商品。</p><h2 id="b-beautiful-bridges" tabindex="-1"><a class="header-anchor" href="#b-beautiful-bridges"><span>B. Beautiful Bridges</span></a></h2><h3 id="题意-1" tabindex="-1"><a class="header-anchor" href="#题意-1"><span>题意</span></a></h3>',4),x=a("p",null,[s("有一段从左到右的折线作为地面。现希望修一座桥，距海平面高度为 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"h")]),a("annotation",{encoding:"application/x-tex"},"h")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6944em"}}),a("span",{class:"mord mathnormal"},"h")])])]),s("，从左端到右端。桥分为若干段，段的切换点必须是折线的折点，有连向地面的柱子。每段桥会有一个半圆形拱，直径为段的宽度，顶端抵到桥面，地形不能到达拱的上方。一段桥面有 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"β")]),a("annotation",{encoding:"application/x-tex"},"\\beta")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8889em","vertical-align":"-0.1944em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.05278em"}},"β")])])]),s(" 乘以桥面长度平方的代价，一个柱子有 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"α")]),a("annotation",{encoding:"application/x-tex"},"\\alpha")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.4306em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.0037em"}},"α")])])]),s(" 乘以柱子高度的代价。求最小代价。"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mo",null,"≤"),a("mn",null,"1"),a("msup",null,[a("mn",null,"0"),a("mn",null,"4")])]),a("annotation",{encoding:"application/x-tex"},"n\\leq 10^4")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.7719em","vertical-align":"-0.136em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},"≤"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8141em"}}),a("span",{class:"mord"},"1"),a("span",{class:"mord"},[a("span",{class:"mord"},"0"),a("span",{class:"msupsub"},[a("span",{class:"vlist-t"},[a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.8141em"}},[a("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{class:"pstrut",style:{height:"2.7em"}}),a("span",{class:"sizing reset-size6 size3 mtight"},[a("span",{class:"mord mtight"},"4")])])])])])])])])])]),s("，坐标范围 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mn",null,"1"),a("msup",null,[a("mn",null,"0"),a("mn",null,"5")])]),a("annotation",{encoding:"application/x-tex"},"10^5")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8141em"}}),a("span",{class:"mord"},"1"),a("span",{class:"mord"},[a("span",{class:"mord"},"0"),a("span",{class:"msupsub"},[a("span",{class:"vlist-t"},[a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.8141em"}},[a("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{class:"pstrut",style:{height:"2.7em"}}),a("span",{class:"sizing reset-size6 size3 mtight"},[a("span",{class:"mord mtight"},"5")])])])])])])])])])]),s("。10 s。")],-1),w=a("h3",{id:"题解-1",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#题解-1"},[a("span",null,"题解")])],-1),k=a("p",null,[a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("msup",null,[a("mi",null,"n"),a("mn",null,"2")])]),a("annotation",{encoding:"application/x-tex"},"n^2")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8141em"}}),a("span",{class:"mord"},[a("span",{class:"mord mathnormal"},"n"),a("span",{class:"msupsub"},[a("span",{class:"vlist-t"},[a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.8141em"}},[a("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{class:"pstrut",style:{height:"2.7em"}}),a("span",{class:"sizing reset-size6 size3 mtight"},[a("span",{class:"mord mtight"},"2")])])])])])])])])])]),s("，考虑一个右端点可以从哪些左端点转移来。一个左端点合法，要求在右端点之前的所有折点合法。合法有两种可能：在拱的范围之外（即折点在一个 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"r"),a("mo",null,"×"),a("mn",null,"2"),a("mi",null,"r")]),a("annotation",{encoding:"application/x-tex"},"r\\times 2r")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6667em","vertical-align":"-0.0833em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),a("span",{class:"mbin"},"×"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6444em"}}),a("span",{class:"mord"},"2"),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r")])])]),s(" 的矩形之外）（对应 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"r")]),a("annotation",{encoding:"application/x-tex"},"r")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.4306em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r")])])]),s(" 的一个后缀）、与圆心的距离平方小于等于半径（解一元二次不等式，得到一个 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"r")]),a("annotation",{encoding:"application/x-tex"},"r")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.4306em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r")])])]),s(" 的区间）；每个点得到合法 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"r")]),a("annotation",{encoding:"application/x-tex"},"r")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.4306em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"r")])])]),s(" 的两个区间，可以转化为合法左端点的两个区间（由于坐标范围足够小，可以 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"O"),a("mo",{stretchy:"false"},"("),a("mi",null,"V"),a("mo",{stretchy:"false"},")")]),a("annotation",{encoding:"application/x-tex"},"O(V)")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1em","vertical-align":"-0.25em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.02778em"}},"O"),a("span",{class:"mopen"},"("),a("span",{class:"mord mathnormal",style:{"margin-right":"0.22222em"}},"V"),a("span",{class:"mclose"},")")])])]),s(" 预处理代替每次 "),a("code",null,"lower_bound"),s("/"),a("code",null,"upper_bound"),s("）。为了判断哪些左端点合法，要求这个左端点符合所有折点给出的要求，从而对于每个折点做两个区间加，最后查询哪些点结果为 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"i")]),a("annotation",{encoding:"application/x-tex"},"i")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6595em"}}),a("span",{class:"mord mathnormal"},"i")])])]),s("，即被所有折点允许。")],-1),y=a("h2",{id:"d-circular-dna",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#d-circular-dna"},[a("span",null,"D. Circular DNA")])],-1),b=a("h3",{id:"题意-2",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#题意-2"},[a("span",null,"题意")])],-1),M=a("p",null,[s("给定一个环状序列，每个元素是某种括号的左/右括号。求一个断开序列的位置，最大化满足【这种括号对应的子序列合法】的括号的数量，若有多个最优答案输出最靠前的一个位置。"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mo",null,"≤"),a("mn",null,"1"),a("msup",null,[a("mn",null,"0"),a("mn",null,"6")])]),a("annotation",{encoding:"application/x-tex"},"n\\leq 10^6")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.7719em","vertical-align":"-0.136em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},"≤"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8141em"}}),a("span",{class:"mord"},"1"),a("span",{class:"mord"},[a("span",{class:"mord"},"0"),a("span",{class:"msupsub"},[a("span",{class:"vlist-t"},[a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.8141em"}},[a("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{class:"pstrut",style:{height:"2.7em"}}),a("span",{class:"sizing reset-size6 size3 mtight"},[a("span",{class:"mord mtight"},"6")])])])])])])])])])])],-1),_=a("h3",{id:"题解-2",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#题解-2"},[a("span",null,"题解")])],-1),C=a("p",null,[s("首先只考虑左右括号数量相等的种类。通过先求一遍各个括号的前缀和最小值，可以知道位置 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mn",null,"0")]),a("annotation",{encoding:"application/x-tex"},"0")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6444em"}}),a("span",{class:"mord"},"0")])])]),s(" 对应每个括号的第几层。再以这个层数为初始数，对于每种括号求前缀和，前缀和为 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mn",null,"0")]),a("annotation",{encoding:"application/x-tex"},"0")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6444em"}}),a("span",{class:"mord"},"0")])])]),s(" 时在此处断开就可以使得这种括号合法。从而可以一边扫，一边维护每种括号的前缀和，同时统计为 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mn",null,"0")]),a("annotation",{encoding:"application/x-tex"},"0")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6444em"}}),a("span",{class:"mord"},"0")])])]),s(" 的括号数，从而比较得到答案。")],-1),v=a("h2",{id:"e-dead-end-detector",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#e-dead-end-detector"},[a("span",null,"E. Dead-End Detector")])],-1),I=a("h3",{id:"题意-3",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#题意-3"},[a("span",null,"题意")])],-1),f=a("p",null,[s("给定一无向简单图。定义从 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"u")]),a("annotation",{encoding:"application/x-tex"},"u")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.4306em"}}),a("span",{class:"mord mathnormal"},"u")])])]),s(" 到 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"v")]),a("annotation",{encoding:"application/x-tex"},"v")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.4306em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")])])]),s(" 的路口为死路，当且仅当从 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"u")]),a("annotation",{encoding:"application/x-tex"},"u")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.4306em"}}),a("span",{class:"mord mathnormal"},"u")])])]),s(" 出发，往 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"v")]),a("annotation",{encoding:"application/x-tex"},"v")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.4306em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.03588em"}},"v")])])]),s(" 走，之后不通过原地掉头无法回到 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"u")]),a("annotation",{encoding:"application/x-tex"},"u")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.4306em"}}),a("span",{class:"mord mathnormal"},"u")])])]),s("。一个死路要立标牌，当且仅当不存在另一个死路，使得这个死路出发不能到达另一个死路。求有哪些死路要立标牌。"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mo",null,"≤"),a("mn",null,"5"),a("mo",null,"×"),a("mn",null,"1"),a("msup",null,[a("mn",null,"0"),a("mn",null,"5")])]),a("annotation",{encoding:"application/x-tex"},"n\\leq 5\\times 10^5")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.7719em","vertical-align":"-0.136em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},"≤"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.7278em","vertical-align":"-0.0833em"}}),a("span",{class:"mord"},"5"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),a("span",{class:"mbin"},"×"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8141em"}}),a("span",{class:"mord"},"1"),a("span",{class:"mord"},[a("span",{class:"mord"},"0"),a("span",{class:"msupsub"},[a("span",{class:"vlist-t"},[a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.8141em"}},[a("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{class:"pstrut",style:{height:"2.7em"}}),a("span",{class:"sizing reset-size6 size3 mtight"},[a("span",{class:"mord mtight"},"5")])])])])])])])])])]),s("。")],-1),L=t('<h3 id="题解-3" tabindex="-1"><a class="header-anchor" href="#题解-3"><span>题解</span></a></h3><p><s>致敬传奇签到题。</s></p><p>一个路口是死路，当且仅当它不能到达一个边双。先做边双缩点，设原本有大于一个点的边双缩成黑点。则若一颗树全是白点，其只需要在每个叶子向上立标牌；否则，以黑色点为根 DFS，如果一个点子树里面包含黑色点，且其连向一个全是白色点的子树，则这个边也要立标牌。</p><h2 id="g-first-of-her-name" tabindex="-1"><a class="header-anchor" href="#g-first-of-her-name"><span>G. First of Her Name</span></a></h2><h3 id="题意-4" tabindex="-1"><a class="header-anchor" href="#题意-4"><span>题意</span></a></h3>',5),P=a("p",null,[s("有 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n")]),a("annotation",{encoding:"application/x-tex"},"n")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.4306em"}}),a("span",{class:"mord mathnormal"},"n")])])]),s(" 个字符串，每个串都是之前某个串在开头添加一个字符得到。有 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"k")]),a("annotation",{encoding:"application/x-tex"},"k")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6944em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k")])])]),s(" 个查询，每次给一个串，问有多少串以这个查询开头。"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mn",null,"1"),a("msup",null,[a("mn",null,"0"),a("mn",null,"6")])]),a("annotation",{encoding:"application/x-tex"},"10^6")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8141em"}}),a("span",{class:"mord"},"1"),a("span",{class:"mord"},[a("span",{class:"mord"},"0"),a("span",{class:"msupsub"},[a("span",{class:"vlist-t"},[a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.8141em"}},[a("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{class:"pstrut",style:{height:"2.7em"}}),a("span",{class:"sizing reset-size6 size3 mtight"},[a("span",{class:"mord mtight"},"6")])])])])])])])])])]),s("。")],-1),z=t('<h3 id="题解-4" tabindex="-1"><a class="header-anchor" href="#题解-4"><span>题解</span></a></h3><p>将给定串当作在后缀添加字符，查询倒转。对查询建 AC 自动机，对给定串建树；在给定串的树上 DFS 的同时，在 AC 自动机上走；搜到给定串后，在 AC 自动机的结点上加一；最后在 fail 树上求子树和。</p><h2 id="h-hobsons-trains" tabindex="-1"><a class="header-anchor" href="#h-hobsons-trains"><span>H. Hobsons&#39; trains</span></a></h2><h3 id="题意-5" tabindex="-1"><a class="header-anchor" href="#题意-5"><span>题意</span></a></h3>',4),O=a("p",null,[s("给定一张图，每个点恰有一出边。对于每个点，求有多少点不超过 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"k")]),a("annotation",{encoding:"application/x-tex"},"k")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6944em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k")])])]),s(" 步可以到达该点。"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n"),a("mo",null,"≤"),a("mn",null,"5"),a("mo",null,"×"),a("mn",null,"1"),a("msup",null,[a("mn",null,"0"),a("mn",null,"5")])]),a("annotation",{encoding:"application/x-tex"},"n\\leq 5\\times 10^5")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.7719em","vertical-align":"-0.136em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},"≤"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.7278em","vertical-align":"-0.0833em"}}),a("span",{class:"mord"},"5"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),a("span",{class:"mbin"},"×"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8141em"}}),a("span",{class:"mord"},"1"),a("span",{class:"mord"},[a("span",{class:"mord"},"0"),a("span",{class:"msupsub"},[a("span",{class:"vlist-t"},[a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.8141em"}},[a("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{class:"pstrut",style:{height:"2.7em"}}),a("span",{class:"sizing reset-size6 size3 mtight"},[a("span",{class:"mord mtight"},"5")])])])])])])])])])]),s("。")],-1),A=a("h3",{id:"题解-5",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#题解-5"},[a("span",null,"题解")])],-1),j=a("p",null,[s("题述为基环树森林。对于每个基环树，把环断掉；对于每个点，其要对其到祖先的链 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"k"),a("mo",null,"+"),a("mn",null,"1")]),a("annotation",{encoding:"application/x-tex"},"k+1")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.7778em","vertical-align":"-0.0833em"}}),a("span",{class:"mord mathnormal",style:{"margin-right":"0.03148em"}},"k"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}}),a("span",{class:"mbin"},"+"),a("span",{class:"mspace",style:{"margin-right":"0.2222em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6444em"}}),a("span",{class:"mord"},"1")])])]),s(" 个结点做 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mo",null,"+"),a("mn",null,"1")]),a("annotation",{encoding:"application/x-tex"},"+1")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.7278em","vertical-align":"-0.0833em"}}),a("span",{class:"mord"},"+"),a("span",{class:"mord"},"1")])])]),s("；对于树，朴素树上差分即可；对于环，链加可能会被拆成两段。")],-1),D=a("h2",{id:"j-miniature-golf",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#j-miniature-golf"},[a("span",null,"J. Miniature Golf")])],-1),F=a("h3",{id:"题意-6",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#题意-6"},[a("span",null,"题意")])],-1),T=a("p",null,[a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"p")]),a("annotation",{encoding:"application/x-tex"},"p")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.625em","vertical-align":"-0.1944em"}}),a("span",{class:"mord mathnormal"},"p")])])]),s(" 个人，"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"n")]),a("annotation",{encoding:"application/x-tex"},"n")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.4306em"}}),a("span",{class:"mord mathnormal"},"n")])])]),s(" 轮游戏，每人每轮游戏有得分。考虑一个正整数 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"i")]),a("annotation",{encoding:"application/x-tex"},"i")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6595em"}}),a("span",{class:"mord mathnormal"},"i")])])]),s("，将所有得分对 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"i")]),a("annotation",{encoding:"application/x-tex"},"i")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6595em"}}),a("span",{class:"mord mathnormal"},"i")])])]),s(" 取 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"min"),a("mo",null,"⁡")]),a("annotation",{encoding:"application/x-tex"},"\\min")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6679em"}}),a("span",{class:"mop"},"min")])])]),s("，随后对所有人得分排序，一个人的排名定义为分数小于等于他的人的数量。求 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"i")]),a("annotation",{encoding:"application/x-tex"},"i")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6595em"}}),a("span",{class:"mord mathnormal"},"i")])])]),s(" 变化时，每人的排名的最小值。"),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"p"),a("mo",null,"≤"),a("mn",null,"500"),a("mo",{separator:"true"},","),a("mi",null,"n"),a("mo",null,"≤"),a("mn",null,"50")]),a("annotation",{encoding:"application/x-tex"},"p\\leq 500,n\\leq 50")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8304em","vertical-align":"-0.1944em"}}),a("span",{class:"mord mathnormal"},"p"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},"≤"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.8389em","vertical-align":"-0.1944em"}}),a("span",{class:"mord"},"500"),a("span",{class:"mpunct"},","),a("span",{class:"mspace",style:{"margin-right":"0.1667em"}}),a("span",{class:"mord mathnormal"},"n"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),a("span",{class:"mrel"},"≤"),a("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6444em"}}),a("span",{class:"mord"},"50")])])]),s("。6 s。")],-1),W=a("h3",{id:"题解-6",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#题解-6"},[a("span",null,"题解")])],-1),N=a("p",null,[s("考虑每个人的得分随 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("mi",null,"i")]),a("annotation",{encoding:"application/x-tex"},"i")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"0.6595em"}}),a("span",{class:"mord mathnormal"},"i")])])]),s(" 的变化，其是一条折线，折线之间有至多 "),a("span",{class:"katex"},[a("span",{class:"katex-mathml"},[a("math",{xmlns:"http://www.w3.org/1998/Math/MathML"},[a("semantics",null,[a("mrow",null,[a("msup",null,[a("mi",null,"p"),a("mn",null,"2")]),a("mi",null,"n")]),a("annotation",{encoding:"application/x-tex"},"p^2 n")])])]),a("span",{class:"katex-html","aria-hidden":"true"},[a("span",{class:"base"},[a("span",{class:"strut",style:{height:"1.0085em","vertical-align":"-0.1944em"}}),a("span",{class:"mord"},[a("span",{class:"mord mathnormal"},"p"),a("span",{class:"msupsub"},[a("span",{class:"vlist-t"},[a("span",{class:"vlist-r"},[a("span",{class:"vlist",style:{height:"0.8141em"}},[a("span",{style:{top:"-3.063em","margin-right":"0.05em"}},[a("span",{class:"pstrut",style:{height:"2.7em"}}),a("span",{class:"sizing reset-size6 size3 mtight"},[a("span",{class:"mord mtight"},"2")])])])])])])]),a("span",{class:"mord mathnormal"},"n")])])]),s(" 级别的交点。为了找到所有交点，扫描线，每遇到一个左端点就枚举所有还存活的线段。两条线段交在一起，会让其中一者排名下降；两条线段从交点分开，会让其中一者排名上升；需要讨论亿些边界情况。从而可以求出所有人各个时刻的排名变化，从而得到答案。")],-1);function B(G,q){const l=e("ExternalLinkIcon");return i(),m("div",null,[p,a("p",null,[s("比赛链接："),a("a",h,[s("Codeforces Gym"),r(l)])]),o,u,d,g,x,w,k,y,b,M,_,C,v,I,f,L,P,z,O,A,j,D,F,T,W,N])}const H=n(c,[["render",B],["__file","sol_ICPC_2019_World_Finals.html.vue"]]),V=JSON.parse(`{"path":"/posts/OI_ICPC/sol_ICPC_2019_World_Finals.html","title":"ICPC 2019 World Finals 部分题解","lang":"zh-CN","frontmatter":{"date":"2024-09-12T00:00:00.000Z","category":["OI×ICPC"],"tag":["OI×ICPC","OI×ICPC - 题解","OI×ICPC - 贪心","OI×ICPC - 计算几何","OI×ICPC - 前缀和","OI×ICPC - Tarjan","OI×ICPC - Tarjan - 边双","OI×ICPC - 缩点","OI×ICPC - AC 自动机","OI×ICPC - 基环树","OI×ICPC - 树上差分","OI×ICPC - 扫描线"],"title":"ICPC 2019 World Finals 部分题解","excerpt":"ICPC 2019 World Finals（Codeforces Gym 102511）部分题目的题解：<br>A. Azulejos<br>B. Beautiful Bridges<br>D. Circular DNA<br>E. Dead-End Detector<br>G. First of Her Name<br>H. Hobsons' trains<br>J. Miniature Golf","description":" 注意 题解写得可能非常抽象。 「如果一个题解你看不懂，那是题解垃圾而不是你垃圾。」 比赛链接：Codeforces Gym A. Azulejos 题意 有两排各 n 个商品，各有价格和高度。分别排列前排、后排的商品，满足两行价格各自都单调不降，且对应位置的前排商品高度小于后排，或判断无解。n≤5×105。 题解 先对前后两排排序，从左往右扫，每次会...","head":[["meta",{"property":"og:url","content":"https://www.wallbreaker5th.top/posts/OI_ICPC/sol_ICPC_2019_World_Finals.html"}],["meta",{"property":"og:site_name","content":"Wallbreaker5th 的博客"}],["meta",{"property":"og:title","content":"ICPC 2019 World Finals 部分题解"}],["meta",{"property":"og:description","content":" 注意 题解写得可能非常抽象。 「如果一个题解你看不懂，那是题解垃圾而不是你垃圾。」 比赛链接：Codeforces Gym A. Azulejos 题意 有两排各 n 个商品，各有价格和高度。分别排列前排、后排的商品，满足两行价格各自都单调不降，且对应位置的前排商品高度小于后排，或判断无解。n≤5×105。 题解 先对前后两排排序，从左往右扫，每次会..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-09-12T11:45:58.000Z"}],["meta",{"property":"article:author","content":"Wallbreaker5th"}],["meta",{"property":"article:tag","content":"OI×ICPC"}],["meta",{"property":"article:tag","content":"OI×ICPC - 题解"}],["meta",{"property":"article:tag","content":"OI×ICPC - 贪心"}],["meta",{"property":"article:tag","content":"OI×ICPC - 计算几何"}],["meta",{"property":"article:tag","content":"OI×ICPC - 前缀和"}],["meta",{"property":"article:tag","content":"OI×ICPC - Tarjan"}],["meta",{"property":"article:tag","content":"OI×ICPC - Tarjan - 边双"}],["meta",{"property":"article:tag","content":"OI×ICPC - 缩点"}],["meta",{"property":"article:tag","content":"OI×ICPC - AC 自动机"}],["meta",{"property":"article:tag","content":"OI×ICPC - 基环树"}],["meta",{"property":"article:tag","content":"OI×ICPC - 树上差分"}],["meta",{"property":"article:tag","content":"OI×ICPC - 扫描线"}],["meta",{"property":"article:published_time","content":"2024-09-12T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-09-12T11:45:58.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"ICPC 2019 World Finals 部分题解\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-09-12T00:00:00.000Z\\",\\"dateModified\\":\\"2024-09-12T11:45:58.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Wallbreaker5th\\",\\"url\\":\\"https://www.wallbreaker5th.top\\"}]}"]]},"headers":[{"level":2,"title":"A. Azulejos","slug":"a-azulejos","link":"#a-azulejos","children":[{"level":3,"title":"题意","slug":"题意","link":"#题意","children":[]},{"level":3,"title":"题解","slug":"题解","link":"#题解","children":[]}]},{"level":2,"title":"B. Beautiful Bridges","slug":"b-beautiful-bridges","link":"#b-beautiful-bridges","children":[{"level":3,"title":"题意","slug":"题意-1","link":"#题意-1","children":[]},{"level":3,"title":"题解","slug":"题解-1","link":"#题解-1","children":[]}]},{"level":2,"title":"D. Circular DNA","slug":"d-circular-dna","link":"#d-circular-dna","children":[{"level":3,"title":"题意","slug":"题意-2","link":"#题意-2","children":[]},{"level":3,"title":"题解","slug":"题解-2","link":"#题解-2","children":[]}]},{"level":2,"title":"E. Dead-End Detector","slug":"e-dead-end-detector","link":"#e-dead-end-detector","children":[{"level":3,"title":"题意","slug":"题意-3","link":"#题意-3","children":[]},{"level":3,"title":"题解","slug":"题解-3","link":"#题解-3","children":[]}]},{"level":2,"title":"G. First of Her Name","slug":"g-first-of-her-name","link":"#g-first-of-her-name","children":[{"level":3,"title":"题意","slug":"题意-4","link":"#题意-4","children":[]},{"level":3,"title":"题解","slug":"题解-4","link":"#题解-4","children":[]}]},{"level":2,"title":"H. Hobsons' trains","slug":"h-hobsons-trains","link":"#h-hobsons-trains","children":[{"level":3,"title":"题意","slug":"题意-5","link":"#题意-5","children":[]},{"level":3,"title":"题解","slug":"题解-5","link":"#题解-5","children":[]}]},{"level":2,"title":"J. Miniature Golf","slug":"j-miniature-golf","link":"#j-miniature-golf","children":[{"level":3,"title":"题意","slug":"题意-6","link":"#题意-6","children":[]},{"level":3,"title":"题解","slug":"题解-6","link":"#题解-6","children":[]}]}],"git":{"createdTime":1726141558000,"updatedTime":1726141558000,"contributors":[{"name":"Wallbreaker5th","email":"3277946283@qq.com","commits":1}]},"readingTime":{"minutes":5.42,"words":1627},"filePathRelative":"posts/OI_ICPC/sol_ICPC_2019_World_Finals.md","localizedDate":"2024年9月12日","autoDesc":true}`);export{H as comp,V as data};
